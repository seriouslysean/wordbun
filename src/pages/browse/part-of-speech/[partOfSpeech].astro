---
import BrowsePageTemplate from '#components/BrowsePageTemplate.astro';
import { getWordsFromCollection, groupWordsByPartOfSpeech } from '#astro-utils/word-data-utils';

export async function getStaticPaths() {
  const allWords = await getWordsFromCollection();
  const partOfSpeechGroups = groupWordsByPartOfSpeech(allWords);

  return Object.entries(partOfSpeechGroups).map(([partOfSpeech, words]) => ({
    params: { partOfSpeech },
    props: { words, partOfSpeech },
  }));
}

const { words } = Astro.props;
---
<BrowsePageTemplate words={words} columns={2} />
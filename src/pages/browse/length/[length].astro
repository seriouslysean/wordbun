---
import BrowsePageTemplate from '~components/BrowsePageTemplate.astro';
import { getWordsFromCollection, groupWordsByLength } from '~astro-utils/word-data-utils';

export async function getStaticPaths() {
  const allWords = await getWordsFromCollection();
  const lengthGroups = groupWordsByLength(allWords);

  return Object.entries(lengthGroups).map(([length, words]) => ({
    params: { length },
    props: { words, length: Number(length) },
  }));
}

const { words } = Astro.props;
---
<BrowsePageTemplate words={words} columns={2} />
